import React, { useEffect, useState } from "react";
import { io } from "socket.io-client";

const socket = io(""); // keep as-is if same origin
// const socket = io("http://35.207.197.197/"); // keep as-is if same origin

const QrPage = () => {
  const [qrImage, setQrImage] = useState("");
  const [status, setStatus] = useState("Waiting for QR...");
  const [connected, setConnected] = useState(false);
  console.log("connected===========>", connected);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    socket.on("qr", (qr) => {
      setQrImage(qr);
      setStatus("Scan this QR using WhatsApp");
    });

    socket.on("message", (msg) => {
      setStatus(msg);
    });

    socket.on("ready", () => {
      setStatus("Connected üéâ");
      setConnected(true);
    });

    return () => {
      socket.off("qr");
      socket.off("message");
      socket.off("ready");
    };
  }, []);

  const handleSendMessage = async () => {
    try {
      setLoading(true);
      setStatus("Sending message...");

      const res = await fetch(
        "http://35.207.197.197/master/sendParallelMessage",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            groups: [],
            message: {
              messageMediaUrl: "",
              templateName: "readingMsg_YT",
              templateId: "020226",
              messageType: "text",
              messageText: [
                "‡¨™‡≠ç‡¨∞‡¨ø‡≠ü ‡¨Ö‡¨≠‡¨ø‡¨≠‡¨æ‡¨¨‡¨ï,\n\n‡¨Æ‡≠Å‡¨Å ‡¨Ü‡¨∂‡¨æ ‡¨ï‡¨∞‡≠Å‡¨õ‡¨ø '‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ' ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞‡≠á ‡¨Ü‡¨∏‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨Ü‡¨™‡¨£ ‡¨∏‡≠ç‡¨ï‡≠Å‡¨≤ ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ó‡≠ç‡¨∞‡≠Å‡¨™‡≠ç ‡¨∞‡≠á ‡¨™‡¨æ‡¨â‡¨•‡¨ø‡¨¨‡≠á ‡•§ ‡¨è‡¨π‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì ‡¨™‡¨ø‡¨≤‡¨æ ‡¨∏‡¨π ‡¨¨‡¨∏‡¨ø ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å ‡¨è‡¨¨‡¨Ç ‡¨™‡¨ø‡¨≤‡¨æ‡¨ï‡≠Å ‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨â‡¨§‡≠ç‡¨∏‡¨æ‡¨π‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨è‡¨π‡¨æ ‡¨∏‡¨π ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì ‡¨∂‡≠á‡¨∑‡¨∞‡≠á ‡¨•‡¨ø‡¨¨‡¨æ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡¨∞ ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï‡≠Å ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨™‡¨ø‡¨≤‡¨æ ‡¨¶‡≠á‡¨â‡¨•‡¨ø‡¨¨‡¨æ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨≤‡≠á‡¨ñ‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ó‡≠ç‡¨∞‡≠Å‡¨™‡≠ç ‡¨∞‡≠á ‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡≠ü ‡¨™‡¨†‡¨æ‡¨á‡¨¨‡≠á ‡•§\n\n‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï,\n‡¨¨‡≠Ä‡¨£‡¨æ ‡¨¶‡¨ø‡¨¶‡¨ø",
                "‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ\n\n‡¨™‡≠ç‡¨∞‡¨ø‡≠ü ‡¨Ö‡¨≠‡¨ø‡¨≠‡¨æ‡¨¨‡¨ï, ‡¨Æ‡≠Å‡¨Å ‡¨¨‡≠Ä‡¨£‡¨æ ‡¨¶‡¨ø‡¨¶‡¨ø ‡•§ ‡¨™‡¨†‡¨® ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨®‡≠Ç‡¨Ü ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨®‡≠á‡¨á ‡¨Ü‡¨∏‡¨ø‡¨õ‡¨ø ‡•§ ‡¨è‡¨π‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨ì ‡¨∂‡≠Å‡¨£‡¨ø ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡≠á  ‡¨¨‡¨æ‡¨ï‡≠ç‡≠ü ‡¨™‡¨¢‡¨º‡¨ø ‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡¨æ ‡¨ì ‡¨≤‡≠á‡¨ñ‡¨ø‡¨¨‡¨æ‡¨∞‡≠á ‡¨Ü‡¨ó‡≠ç‡¨∞‡¨π‡≠Ä ‡¨π‡≠á‡¨¨‡≠á ‡•§ ‡¨è‡¨π‡¨ø ‡¨≠‡¨ø‡≠ú‡¨ø‡¨ì ‡¨¶‡≠á‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨™‡¨∞‡≠á ‡¨Ü‡¨™‡¨£ ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨∏‡¨π‡¨ú ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨™‡¨ö‡¨æ‡¨∞‡¨ø, ‡¨Ü‡¨≤‡≠ã‡¨ö‡¨®‡¨æ ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡≠á ‡•§ \n\n‡¨∏‡≠ç‡¨§‡¨∞ ‡≠© -  https://youtu.be/4dOXs-1NXVw \n‡¨è‡¨π‡¨ø‡¨™‡¨∞‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨Ü‡¨™‡¨£ ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨ì ‡≠ü‡≠Å‡¨ü‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨∏‡¨¨‡¨∏‡≠ç‡¨ï‡≠ç‡¨∞‡¨æ‡¨á‡¨¨ ‡¨ï‡¨∞‡¨ø ‡¨™‡¨æ‡¨á ‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡≠á ‡•§",
                "‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ\n\n‡¨™‡≠ç‡¨∞‡¨£‡¨æ‡¨Æ, ‡¨Æ‡≠Å‡¨Å ‡¨¨‡≠Ä‡¨£‡¨æ ‡¨¶‡¨ø‡¨¶‡¨ø ‡•§ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨ø‡¨≤‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨Ü‡¨ú‡¨ø ‡¨Æ‡≠Å‡¨Å ‡¨™‡¨†‡¨® ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨∏‡≠ç‡¨§‡¨∞-‡≠© ‡¨∞ ‡¨è‡¨ï ‡¨Ü‡¨®‡¨®‡≠ç‡¨¶‡¨Æ‡≠ü ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨®‡≠á‡¨á ‡¨Ü‡¨∏‡¨ø‡¨õ‡¨ø ‡•§ ‡¨è‡¨π‡¨ø ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ü‡¨ø ‡¨¶‡≠á‡¨ñ‡¨æ‡¨á,‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨∂‡≠Å‡¨£‡¨ø‡¨¨‡¨æ ‡¨∏‡¨π ‡¨¨‡¨æ‡¨ï‡≠ç‡≠ü ‡¨™‡¨¢‡¨º‡¨ø ‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å  ‡¨â‡¨§‡≠ç‡¨∏‡¨æ‡¨π‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì ‡¨∂‡≠á‡¨∑‡¨∞‡≠á ‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï ‡¨∏‡¨π ‡¨Ü‡¨≤‡≠ã‡¨ö‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡¨ì ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨è‡¨π‡¨ø‡¨™‡¨∞‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç, ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨ì ‡≠ü‡≠Å‡¨ü‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç ‡¨∞‡≠á ‡¨™‡¨æ‡¨á‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡≠á ‡•§ ‡¨è‡¨π‡¨æ‡¨∏‡¨π ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ü‡¨ø ‡¨ï‡¨ø‡¨™‡¨∞‡¨ø ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨§‡¨æ‡¨Æ‡¨§ ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡¨æ‡¨ï‡≠Å ‡¨≠‡≠Å‡¨≤‡¨ø‡¨¨‡≠á ‡¨®‡¨æ‡¨π‡¨ø‡¨Å ‡•§\n\n\n‡¨∏‡≠ç‡¨§‡¨∞ ‡≠© -  https://youtu.be/4dOXs-1NXVw ",
                "‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ\n\n‡¨Æ‡≠Å‡¨Å ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡≠ç‡¨∞‡¨ø‡≠ü‡¨∞ ‡¨¨‡≠Ä‡¨£‡¨æ ‡¨¶‡¨ø‡¨¶‡¨ø ‡•§ ‡¨Ü‡¨ú‡¨ø ‡¨™‡¨†‡¨® ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨∏‡≠Å‡¨®‡≠ç‡¨¶‡¨∞ ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨Ü‡¨£‡¨ø‡¨õ‡¨ø ‡•§ ‡¨Ü‡¨™‡¨£ ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ü‡¨ø ‡¨¶‡≠á‡¨ñ‡¨æ‡¨á, ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å  ‡¨¨‡¨æ‡¨ï‡≠ç‡≠ü ‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì ‡¨≤‡≠á‡¨ñ‡¨ø‡¨¨‡¨æ‡¨∞‡≠á ‡¨Æ‡¨ú‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨™‡≠ç‡¨∞‡≠ã‡¨§‡≠ç‡¨∏‡¨æ‡¨π‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨è‡¨π‡¨ø ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ó‡≠ç‡¨∞‡≠Å‡¨™‡≠ç, ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨ì ‡≠ü‡≠Å‡¨ü‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç ‡¨∞‡≠á ‡¨â‡¨™‡¨≤‡¨¨‡≠ç‡¨ß ‡¨Ö‡¨õ‡¨ø ‡•§‡¨è‡¨π‡¨æ‡¨∏‡¨π ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ü‡¨ø ‡¨ï‡¨ø‡¨™‡¨∞‡¨ø ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨§‡¨æ‡¨Æ‡¨§ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡≠á ‡•§\n\n‡¨∏‡≠ç‡¨§‡¨∞ ‡≠© -  https://youtu.be/4dOXs-1NXVw ",
                "‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ\n\n‡¨®‡¨Æ‡¨∏‡≠ç‡¨ï‡¨æ‡¨∞ ! ‡¨Æ‡≠Å‡¨Å ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡≠ç‡¨∞‡¨ø‡≠ü‡¨∞ ‡¨¨‡≠Ä‡¨£‡¨æ ‡¨¶‡¨ø‡¨¶‡¨ø ‡•§ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨ø‡¨≤‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨™‡¨†‡¨® ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨®‡≠Ç‡¨§‡¨® ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨®‡≠á‡¨á ‡¨Ü‡¨∏‡¨ø‡¨õ‡¨ø ‡•§ ‡¨è‡¨π‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ü‡¨ø ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨¶‡≠á‡¨ñ‡¨æ‡¨á, ‡¨¨‡¨æ‡¨ï‡≠ç‡≠ü ‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨≤‡≠á‡¨ñ‡¨ø‡¨¨‡¨æ ‡¨ì ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨™‡≠ç‡¨∞‡≠á‡¨∞‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡≠á ‡¨Ü‡¨®‡¨®‡≠ç‡¨¶ ‡¨∏‡¨π ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡≠á ‡•§ ‡¨è‡¨π‡¨ø‡¨™‡¨∞‡¨ø ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡≠ü‡≠Å‡¨ü‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç, ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ó‡≠ç‡¨∞‡≠Å‡¨™‡≠ç ‡¨ì ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨∞‡≠á ‡¨Æ‡¨ø‡¨≥‡¨ø‡¨¨ ‡•§ ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ü‡¨ø ‡¨ï‡¨ø‡¨™‡¨∞‡¨ø ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡≠ü ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡≠á ‡•§ \n\n\n‡¨∏‡≠ç‡¨§‡¨∞ ‡≠© -  https://youtu.be/4dOXs-1NXVw \n\n‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨ï‡¨ø‡¨™‡¨∞‡¨ø ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡≠ü ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡≠á ‡•§ ",
                "‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ, ‡¨ó‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì‡¨°‡¨º‡¨ø‡¨∂‡¨æ\n\n‡¨Ü‡¨ú‡¨ø ‡¨Æ‡≠Å‡¨Å, ‡¨¨‡≠Ä‡¨£‡¨æ‡¨¶‡¨ø‡¨¶‡¨ø ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨™‡¨†‡¨® ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨®‡¨∞ ‡¨Ü‡¨â ‡¨è‡¨ï ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì ‡¨®‡≠á‡¨á ‡¨Ü‡¨∏‡¨ø‡¨õ‡¨ø ‡•§ ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡≠Å ‡¨Ö‡¨®‡≠Å‡¨∞‡≠ã‡¨ß, ‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï‡≠Å ‡¨è‡¨π‡¨ø ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨¶‡≠á‡¨ñ‡¨æ‡¨á, ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨∂‡≠Å‡¨£‡¨ø‡¨¨‡¨æ, ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨™‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨â‡¨§‡≠ç‡¨∏‡¨æ‡¨π‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä ‡¨™‡¨∞‡≠á ‡¨™‡¨ø‡¨≤‡¨æ‡¨ô‡≠ç‡¨ï‡≠Å ‡¨®‡¨ø‡¨ú ‡¨Æ‡¨®‡¨∞‡≠Å ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å, ‡¨Ø‡¨æ‡¨π‡¨æ‡¨¶‡≠ç‡¨µ‡¨æ‡¨∞‡¨æ ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡≠á ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ü‡¨ø‡¨ï‡≠Å ‡¨≠‡¨≤ ‡¨≠‡¨æ‡¨¨‡¨∞‡≠á ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡≠á ‡¨è‡¨¨‡¨Ç ‡¨Æ‡¨®‡≠á‡¨∞‡¨ñ‡¨ø‡¨¨‡≠á ‡•§ ‡¨è‡¨π‡¨ø‡¨™‡¨∞‡¨ø ‡¨≠‡¨ø‡¨°‡¨ø‡¨ì‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡≠ü‡≠Å‡¨ü‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç, ‡¨π‡≠ç‡≠±‡¨æ‡¨ü‡≠ç‡¨∏‡¨Ü‡¨™‡≠ç ‡¨ó‡≠ç‡¨∞‡≠Å‡¨™‡≠ç ‡¨ì ‡¨ö‡≠ç‡≠ü‡¨æ‡¨®‡≠á‡¨≤‡≠ç ‡¨∞‡≠á ‡¨Æ‡¨ø‡¨≥‡¨ø‡¨¨ ‡•§ ‡¨ï‡¨æ‡¨π‡¨æ‡¨£‡≠Ä‡¨ü‡¨ø ‡¨™‡¨ø‡¨≤‡¨æ‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡≠á‡¨Æ‡¨ø‡¨§‡¨ø ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡≠á ‡•§ \n\n‡¨∏‡≠ç‡¨§‡¨∞ ‡≠© -  https://youtu.be/4dOXs-1NXVw \n\n",
              ],
            },
          }),
        },
      );

      const data = await res.json();
      setStatus("Message sent successfully ‚úÖ");
    } catch (err) {
      setStatus("Failed to send message ‚ùå");
    } finally {
      setLoading(false);
    }
  };

  const handleSyncServer = async () => {
    try {
      setLoading(true);
      setStatus("Syncing server...");

      const res = await fetch("http://35.207.197.197/master/syncServers", {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
        },
      });

      const data = await res.json();
      setStatus("Server synced successfully ‚úÖ");
    } catch (err) {
      setStatus("Server sync failed ‚ùå");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div style={styles.container}>
      <h2>Scan WhatsApp QR Code</h2>
      <p>{status}</p>

      {qrImage && !connected && (
        <img src={qrImage} alt="WhatsApp QR" width="300" style={styles.image} />
      )}
      {connected && (
        <button
          onClick={handleSyncServer}
          disabled={loading}
          style={styles.button}
        >
          {loading ? "Syncing..." : "Sync Server"}
        </button>
      )}

      {connected && (
        <button
          onClick={handleSendMessage}
          disabled={loading}
          style={styles.button}
        >
          {loading ? "Sending..." : "Send Message"}
        </button>
      )}
    </div>
  );
};

const styles = {
  container: {
    fontFamily: "Arial",
    textAlign: "center",
    marginTop: "40px",
  },
  image: {
    marginTop: "20px",
    border: "2px solid #222",
    borderRadius: "10px",
  },
  button: {
    marginTop: "20px",
    padding: "12px 24px",
    fontSize: "16px",
    cursor: "pointer",
    backgroundColor: "#25D366",
    color: "#fff",
    border: "none",
    borderRadius: "6px",
  },
};

export default QrPage;
